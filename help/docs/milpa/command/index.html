<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#"><head lang="en">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en" />
  <meta property="og:title" content=" help docs milpa command " />
  <meta property="og:site_name" content="ðŸŒ½ milpa" />
  <meta property="og:description" content="" />
  <meta property="og:url" content="https://milpa.dev/help/docs/milpa/command/" />
  <title>milpa  help docs milpa command </title>
  <link href="//fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,600;0,900;1,400;1,600;1,900&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="https://milpa.dev/css/index.min.350c645dd467bcd50b71416bac463a478c2e58065d4670c7f80624307f855745.css"/>
  <link rel="canonical" href="https://milpa.dev/help/docs/milpa/command/">
</head>
<body><header role="banner">
  <h1 lang="es" ><a aria-label="Go to the home page" class="emoji-maiz" href="/">milpa</a></h1>
  <input
    list="milpa-commands"
    placeholder="type a milpa command"
    type="text"
    aria-label="milpa command selector"
    id="command-selector"
    tabindex="2"
    value="help docs milpa command" />
  <datalist id="milpa-commands">
    
    <option value="help" />


<option value="help docs" />


<option value="help docs milpa" />


<option value="help docs milpa quick-guide" />



<option value="help docs milpa environment" />



<option value="help docs milpa repo" />


<option value="help docs milpa repo docs" />



<option value="help docs milpa repo hooks" />






<option value="help docs milpa command" />


<option value="help docs milpa command spec" />






<option value="help docs milpa alternatives" />



<option value="help docs milpa changelog" />











    
    <option value="itself" />


<option value="itself create" />



<option value="itself docs" />


<option value="itself docs create" />



<option value="itself docs html" />






<option value="itself doctor" />



<option value="itself repo" />


<option value="itself repo install" />



<option value="itself repo list" />



<option value="itself repo uninstall" />






<option value="itself shell" />


<option value="itself shell init" />



<option value="itself shell install-autocomplete" />






<option value="itself version" />





    
  </datalist>
  <a id="skip-to-content" class="sr-only" href="#content">Skip to content</a>
</header>


<div id="wrapper"><div id="sidebar">
  <nav id="table-of-contents" aria-hidden="true">
    <span class="heading" id="table-of-contents-header">In this page</span>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#spec">Spec</a></li>
    <li><a href="#your-command-itself">Your command itself</a></li>
    <li><a href="#arguments-and-options">Arguments and Options</a></li>
    <li><a href="#environment-variables">Environment Variables</a>
      <ul>
        <li><a href="#milpa_command_"><code>MILPA_COMMAND_*</code></a></li>
        <li><a href="#milpa_arg_"><code>MILPA_ARG_*</code></a></li>
        <li><a href="#milpa_opt_"><code>MILPA_OPT_*</code></a></li>
      </ul>
    </li>
  </ul>
</nav>
  </nav>
  <nav id="commands" aria-label="List of available commands">
    <span class="heading" id="commands-header" aria-hidden="true">Commands</span>
    
    <ul>
    
<li>
  <a href="https://milpa.dev/help/" aria-haspopup="tree">help</a>

<ul
  class="sub-menu"
  aria-hidden="true"
  aria-expanded="false"
  aria-label="help subcommands"
>
  
  
<li>
  <a href="https://milpa.dev/help/docs/" aria-haspopup="tree">docs</a>

<ul
  class="sub-menu"
  aria-hidden="true"
  aria-expanded="false"
  aria-label="docs subcommands"
>
  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/" aria-haspopup="tree">milpa</a>

<ul
  class="sub-menu"
  aria-hidden="true"
  aria-expanded="false"
  aria-label="milpa subcommands"
>
  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/quick-guide/" >quick-guide</a>


  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/environment/" >environment</a>


  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/repo/" aria-haspopup="tree">repo</a>

<ul
  class="sub-menu"
  aria-hidden="true"
  aria-expanded="false"
  aria-label="repo subcommands"
>
  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/repo/docs/" >docs</a>


  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/repo/hooks/" >hooks</a>


  
</ul>
</li>


  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/command/" aria-haspopup="tree">command</a>

<ul
  class="sub-menu"
  aria-hidden="true"
  aria-expanded="false"
  aria-label="command subcommands"
>
  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/command/spec/" >spec</a>


  
</ul>
</li>


  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/alternatives/" >alternatives</a>


  
  
<li>
  <a href="https://milpa.dev/help/docs/milpa/changelog/" >changelog</a>


  
</ul>
</li>


  
</ul>
</li>


  
</ul>
</li>


    
<li>
  <a href="https://milpa.dev/itself/" aria-haspopup="tree">itself</a>

<ul
  class="sub-menu"
  aria-hidden="true"
  aria-expanded="false"
  aria-label="itself subcommands"
>
  
  
<li>
  <a href="https://milpa.dev/itself/create/" >create</a>


  
  
<li>
  <a href="https://milpa.dev/itself/docs/" aria-haspopup="tree">docs</a>

<ul
  class="sub-menu"
  aria-hidden="true"
  aria-expanded="false"
  aria-label="docs subcommands"
>
  
  
<li>
  <a href="https://milpa.dev/itself/docs/create/" >create</a>


  
  
<li>
  <a href="https://milpa.dev/itself/docs/html/" >html</a>


  
</ul>
</li>


  
  
<li>
  <a href="https://milpa.dev/itself/doctor/" >doctor</a>


  
  
<li>
  <a href="https://milpa.dev/itself/repo/" aria-haspopup="tree">repo</a>

<ul
  class="sub-menu"
  aria-hidden="true"
  aria-expanded="false"
  aria-label="repo subcommands"
>
  
  
<li>
  <a href="https://milpa.dev/itself/repo/install/" >install</a>


  
  
<li>
  <a href="https://milpa.dev/itself/repo/list/" >list</a>


  
  
<li>
  <a href="https://milpa.dev/itself/repo/uninstall/" >uninstall</a>


  
</ul>
</li>


  
  
<li>
  <a href="https://milpa.dev/itself/shell/" aria-haspopup="tree">shell</a>

<ul
  class="sub-menu"
  aria-hidden="true"
  aria-expanded="false"
  aria-label="shell subcommands"
>
  
  
<li>
  <a href="https://milpa.dev/itself/shell/init/" >init</a>


  
  
<li>
  <a href="https://milpa.dev/itself/shell/install-autocomplete/" >install-autocomplete</a>


  
</ul>
</li>


  
  
<li>
  <a href="https://milpa.dev/itself/version/" >version</a>


  
</ul>
</li>


    </ul>
  </nav>
</div>


<main id="content" tabindex="3">
<section class="content-list">
  <h1 id="command-name-header" class="sr-only">milpa help docs milpa command</h1>
	<p><code>milpa</code> can run two types of commands:</p>
<ul>
<li>bash scripts, with an <code>.sh</code> extension, or</li>
<li>executables without an extension, written in whatever language you want.</li>
</ul>
<h2 class="content-header" id="spec">Spec <a aria-hidden="true" class="heading-anchor" href="#spec">#</a></h2>
<p>In order for <code>milpa</code> to recognize your commands, you&rsquo;ll need to make sure you also add its corresponding <a href="/help/docs/milpa/command/spec/">command spec</a>.</p>
<h2 class="content-header" id="your-command-itself">Your command itself <a aria-hidden="true" class="heading-anchor" href="#your-command-itself">#</a></h2>
<p><code>milpa</code> invokes your command with <code>source</code>, if it&rsquo;s a bash script with an <code>.sh</code> extension, and otherwise with <code>exec</code>. If your command does not have an extension, it must have the executable bit on (<code>chmod +x .milpa/commands/your-command</code>).</p>
<h2 class="content-header" id="arguments-and-options">Arguments and Options <a aria-hidden="true" class="heading-anchor" href="#arguments-and-options">#</a></h2>
<p>The arguments and options passed by the user will be parsed and validated according to your spec, known options will be removed, and arguments will be passed to your command as typed. Unknown options will raise an error and your command will not be called. Valid arguments and options will be available to your command as environment variables, continue reading for details.</p>
<h2 class="content-header" id="environment-variables">Environment Variables <a aria-hidden="true" class="heading-anchor" href="#environment-variables">#</a></h2>
<p>Along the <a href="/help/docs/milpa/environment/">global environment variables</a>, your command will have a the following environment variables available:</p>
<h3 class="content-header" id="milpa_command_"><code>MILPA_COMMAND_*</code> <a aria-hidden="true" class="heading-anchor" href="#milpa_command_">#</a></h3>
<p>Your script has access to the following variables set by <code>milpa</code> after parsing arguments and running validations:</p>
<ul>
<li><code>MILPA_COMMAND_NAME</code>: the space delimited name of your command, i.e. <code>db connect</code>;</li>
<li><code>MILPA_COMMAND_KIND</code>: either <code>source</code> for <code>.sh</code> scripts, or <code>exec</code> for executables;</li>
<li><code>MILPA_COMMAND_REPO</code>: the path to the repo containing this command, i.e. <code>/home/you/project</code>; and</li>
<li><code>MILPA_COMMAND_PATH</code>: the full path to the executable being called</li>
</ul>
<h3 class="content-header" id="milpa_arg_"><code>MILPA_ARG_*</code> <a aria-hidden="true" class="heading-anchor" href="#milpa_arg_">#</a></h3>
<p>Arguments specified on your spec will show up as environment variables with the <code>MILPA_ARG_</code> prefix, followed by the name set in your spec. Names will be all uppercase, and dashes will be turned into underscores.</p>
<h3 class="content-header" id="milpa_opt_"><code>MILPA_OPT_*</code> <a aria-hidden="true" class="heading-anchor" href="#milpa_opt_">#</a></h3>
<p>Options show up on the environment with the <code>MILPA_OPT_</code> prefix followed by the name in your spec. Names will be all uppercase, and dashes will be turned into underscores. <strong>Boolean</strong> type options have a special behavior, they&rsquo;ll be an empty string (<code>&quot;&quot;</code>) if <code>false</code>, and <code>&quot;true&quot;</code> if <code>true</code>, so comparing them in bash is simpler (i.e. <code>if [[ &quot;$MILPA_OPT_BOOL_FLAG&quot; ]] </code>).</p>

</div>

    </main>
    </div>
<script src="https://milpa.dev/js/index.min.139f391b177da4758910aea167c22ab66414f87c28acdb484d97716f0f896375.js"></script>
</body>
</html>
