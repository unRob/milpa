<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en"><head lang="en">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en" />
  <meta property="og:title" content=" help docs milpa command " />
  <meta property="og:site_name" content="ðŸŒ½ milpa" />
  <meta property="og:description" content="" />
  <meta property="og:url" content="https://milpa.dev/help/docs/milpa/command/" />
  <title>milpa  help docs milpa command </title>
  <link href="//fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,600;0,900;1,400;1,600;1,900&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="https://milpa.dev/css/index.min.9802e51da5edbc4281421701c12b0cc94fa958b52ba6299e786f991bea2835ed.css"/>
  <link rel="canonical" href="https://milpa.dev/help/docs/milpa/command/">
</head>
<body><header role="banner">
  <a tabindex="0" id="skip-to-content" class="sr-only" href="#content">Skip to content</a>
  <h1 lang="es" ><a aria-label="Go to the home page" class="emoji-maiz" href="/">milpa</a></h1>
  <input
    list="milpa-commands"
    placeholder="type a milpa command"
    type="text"
    aria-label="milpa command selector"
    id="command-selector"
    value="help docs milpa command" />
  <datalist id="milpa-commands">
    
    <option value="help" />


<option value="help docs" />


<option value="help docs milpa" />


<option value="help docs milpa quick-guide" />



<option value="help docs milpa environment" />



<option value="help docs milpa repo" />


<option value="help docs milpa repo docs" />



<option value="help docs milpa repo hooks" />






<option value="help docs milpa command" />


<option value="help docs milpa command spec" />






<option value="help docs milpa alternatives" />



<option value="help docs milpa changelog" />



<option value="help docs milpa util" />


<option value="help docs milpa util log" />



<option value="help docs milpa util repo" />



<option value="help docs milpa util shell" />














    
    <option value="itself" />


<option value="itself create" />



<option value="itself docs" />


<option value="itself docs create" />



<option value="itself docs html" />






<option value="itself doctor" />



<option value="itself repo" />


<option value="itself repo install" />



<option value="itself repo list" />



<option value="itself repo uninstall" />






<option value="itself shell" />


<option value="itself shell init" />



<option value="itself shell install-autocomplete" />






<option value="itself version" />





    
  </datalist>
  <button id="menu-toggle" aria-label="Toggle navigation menu"><svg version="1.1" viewBox="0 0 310 259.34" xmlns="http://www.w3.org/2000/svg"><title>Menu Icon</title><g transform="translate(10.016 -803.03)"><g fill="none" stroke="#000" stroke-linecap="round" stroke-width="49.336"><path d="m19.668 1032.7h250.65"/><path d="m19.668 932.69h250.65"/><path d="m19.668 832.69h250.65"/></g></g></svg></button>
</header>


<div id="sidebar" aria-hidden="false">
  <nav id="table-of-contents" aria-labelledby="toc-header"><span class="heading" id="toc-header">In this page</span>
  <ul>
    <li><a href="#spec">Spec</a></li>
    <li><a href="#your-command-itself">Your command itself</a></li>
    <li><a href="#arguments-and-options">Arguments and Options</a></li>
    <li><a href="#environment-variables">Environment Variables</a>
      <ul>
        <li><a href="#milpa_command_"><code>MILPA_COMMAND_*</code></a></li>
        <li><a href="#milpa_arg_"><code>MILPA_ARG_*</code></a></li>
        <li><a href="#milpa_opt_"><code>MILPA_OPT_*</code></a></li>
      </ul>
    </li>
  </ul>
</nav>
  

  <nav id="commands" aria-labelledby="commands-header">
    <span class="heading" id="commands-header">Commands</span>
    
    <ul>
    
<li >
  <a href="https://milpa.dev/help/">help</a>

<ul
  class="sub-menu"
  aria-label="help subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/help/docs/">docs</a>

<ul
  class="sub-menu"
  aria-label="docs subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/">milpa</a>

<ul
  class="sub-menu"
  aria-label="milpa subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/quick-guide/">quick-guide</a>


  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/environment/">environment</a>


  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/repo/">repo</a>

<ul
  class="sub-menu"
  aria-label="repo subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/repo/docs/">docs</a>


  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/repo/hooks/">hooks</a>


  
</ul>
</li>


  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/command/">command</a>

<ul
  class="sub-menu"
  aria-label="command subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/command/spec/">spec</a>


  
</ul>
</li>


  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/alternatives/">alternatives</a>


  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/changelog/">changelog</a>


  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/util/">util</a>

<ul
  class="sub-menu"
  aria-label="util subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/util/log/">log</a>


  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/util/repo/">repo</a>


  
  
<li >
  <a href="https://milpa.dev/help/docs/milpa/util/shell/">shell</a>


  
</ul>
</li>


  
</ul>
</li>


  
</ul>
</li>


  
</ul>
</li>


    
<li >
  <a href="https://milpa.dev/itself/">itself</a>

<ul
  class="sub-menu"
  aria-label="itself subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/itself/create/">create</a>


  
  
<li >
  <a href="https://milpa.dev/itself/docs/">docs</a>

<ul
  class="sub-menu"
  aria-label="docs subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/itself/docs/create/">create</a>


  
  
<li >
  <a href="https://milpa.dev/itself/docs/html/">html</a>


  
</ul>
</li>


  
  
<li >
  <a href="https://milpa.dev/itself/doctor/">doctor</a>


  
  
<li >
  <a href="https://milpa.dev/itself/repo/">repo</a>

<ul
  class="sub-menu"
  aria-label="repo subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/itself/repo/install/">install</a>


  
  
<li >
  <a href="https://milpa.dev/itself/repo/list/">list</a>


  
  
<li >
  <a href="https://milpa.dev/itself/repo/uninstall/">uninstall</a>


  
</ul>
</li>


  
  
<li >
  <a href="https://milpa.dev/itself/shell/">shell</a>

<ul
  class="sub-menu"
  aria-label="shell subcommands"
>
  
  
<li >
  <a href="https://milpa.dev/itself/shell/init/">init</a>


  
  
<li >
  <a href="https://milpa.dev/itself/shell/install-autocomplete/">install-autocomplete</a>


  
</ul>
</li>


  
  
<li >
  <a href="https://milpa.dev/itself/version/">version</a>


  
</ul>
</li>


    </ul>
  </nav>
</div>


<main id="content">
<section class="content-list">
  <h1 id="command-name-header" class="sr-only">milpa help docs milpa command</h1>
	<p><code>milpa</code> can run two types of commands:</p>
<ul>
<li>bash scripts, with an <code>.sh</code> extension, or</li>
<li>executables without an extension, written in whatever language you want.</li>
</ul>
<div class="content-header-wrapper">
<h2 class="content-header" id="spec">Spec</h2> <a aria-hidden="true" class="heading-anchor" href="#spec">#</a>
</div>
<p>In order for <code>milpa</code> to recognize your commands, you&rsquo;ll need to make sure you also add its corresponding <a href="/help/docs/milpa/command/spec/">command spec</a>.</p>
<div class="content-header-wrapper">
<h2 class="content-header" id="your-command-itself">Your command itself</h2> <a aria-hidden="true" class="heading-anchor" href="#your-command-itself">#</a>
</div>
<p><code>milpa</code> invokes your command with <code>source</code>, if it&rsquo;s a bash script with an <code>.sh</code> extension, and otherwise with <code>exec</code>. If your command does not have an extension, it must have the executable bit on (<code>chmod +x .milpa/commands/your-command</code>).</p>
<div class="content-header-wrapper">
<h2 class="content-header" id="arguments-and-options">Arguments and Options</h2> <a aria-hidden="true" class="heading-anchor" href="#arguments-and-options">#</a>
</div>
<p>The arguments and options passed by the user will be parsed and validated according to your spec, known options will be removed, and arguments will be passed to your command as typed. Unknown options will raise an error and your command will not be called. Valid arguments and options will be available to your command as environment variables, continue reading for details.</p>
<div class="content-header-wrapper">
<h2 class="content-header" id="environment-variables">Environment Variables</h2> <a aria-hidden="true" class="heading-anchor" href="#environment-variables">#</a>
</div>
<p>Along the <a href="/help/docs/milpa/environment/">global environment variables</a>, your command will have a the following environment variables available:</p>
<div class="content-header-wrapper">
<h3 class="content-header" id="milpa_command_"><code>MILPA_COMMAND_*</code></h3> <a aria-hidden="true" class="heading-anchor" href="#milpa_command_">#</a>
</div>
<p>Your script has access to the following variables set by <code>milpa</code> after parsing arguments and running validations:</p>
<ul>
<li><code>MILPA_COMMAND_NAME</code>: the space delimited name of your command, i.e. <code>db connect</code>;</li>
<li><code>MILPA_COMMAND_KIND</code>: either <code>source</code> for <code>.sh</code> scripts, or <code>exec</code> for executables;</li>
<li><code>MILPA_COMMAND_REPO</code>: the path to the repo containing this command, i.e. <code>/home/you/project</code>; and</li>
<li><code>MILPA_COMMAND_PATH</code>: the full path to the executable being called</li>
</ul>
<div class="content-header-wrapper">
<h3 class="content-header" id="milpa_arg_"><code>MILPA_ARG_*</code></h3> <a aria-hidden="true" class="heading-anchor" href="#milpa_arg_">#</a>
</div>
<p>Arguments specified on your spec will show up as environment variables with the <code>MILPA_ARG_</code> prefix, followed by the name set in your spec. Names will be all uppercase, and dashes will be turned into underscores.</p>
<div class="content-header-wrapper">
<h3 class="content-header" id="milpa_opt_"><code>MILPA_OPT_*</code></h3> <a aria-hidden="true" class="heading-anchor" href="#milpa_opt_">#</a>
</div>
<p>Options show up on the environment with the <code>MILPA_OPT_</code> prefix followed by the name in your spec. Names will be all uppercase, and dashes will be turned into underscores. <strong>Boolean</strong> type options have a special behavior, they&rsquo;ll be an empty string (<code>&quot;&quot;</code>) if <code>false</code>, and <code>&quot;true&quot;</code> if <code>true</code>, so comparing them in bash is simpler (i.e. <code>if [[ &quot;$MILPA_OPT_BOOL_FLAG&quot; ]] </code>).</p>

</div>

    </main>
<script src="https://milpa.dev/js/index.min.c23ded03377b9b7f9a9ddcf0d496c3f2053edb162c919e520ab621fc19a4e882.js"></script>
</body>
</html>
